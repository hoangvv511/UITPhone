@{
    ViewBag.Title = "Thêm nhà cung cấp";
    Layout = "~/Areas/Admin/Views/Layout/HomeLayout.cshtml";
}
<section id="page-content">
    <div class="header-content">
        <h2><i class="fa fa-list-alt"></i> Nhà cung cấp</h2>
        <div class="breadcrumb-wrapper hidden-xs">
            <button class="btn btn-lg btn-success btn-xs btn-push" id="submit"><i class="glyphicon glyphicon-save"></i> Lưu</button>
            <button class="btn btn-lg btn-success btn-xs btn-push" onclick="@("window.location.href='" + @Url.Action("Index", "NhaCungCap") + "'"); ">
                <i class="glyphicon glyphicon-arrow-left"></i> Quay lại
            </button>
        </div>
    </div>
    <div class="body-content animated fadeIn">
        <div class="row">
            <div class="col-md-12">
                <!-- Start input fields - basic form -->
                <div class="panel rounded shadow">
                    <div class="panel-heading">
                        <div class="pull-left">
                            <h3 class="panel-title">@ViewBag.Title</h3>
                        </div>

                        <div class="clearfix"></div>
                    </div><!-- /.panel-heading -->
                    <div class="panel-body no-padding">
                        @using (Html.BeginForm("Create", "NhaCungCap", FormMethod.Post, new { id = "basic-validate" }))
                        {
                            <div class="form-body">
                                <div class="form-group">
                                    <label class="control-label">Tên nhà cung cấp</label>
                                    <input type="text" name="tennhacungcap" class="form-control rounded" maxlength="50" required />
                                </div>
                                <div class="form-group">
                                    <label class="control-label">Địa chỉ</label>
                                    <input type="text" name="diachi" class="form-control rounded" maxlength="100" required />
                                </div>
                                <div class="form-group">
                                    <label class="control-label">Số điện thoại</label>
                                    <input type="text" name="sodienthoai" onkeypress="return checkNumber(event, this)" class="form-control rounded" maxlength="15" required />
                                </div>
                                <div class="form-group">
                                    <label class="control-label">Email</label>
                                    <input type="text" id="email" name="email" class="form-control rounded" maxlength="30" />
                                    <h3 style="margin-top:0%" hidden class="error  notifyinputEmail messageErrorinputEmail">Email đã tồn tại!</h3>
                                    <input type="hidden" id="checkemail" name="checkemail" class="form-control rounded" />
                                </div>
                            </div><!-- /.form-body -->

                        }
                    </div><!-- /.panel-body -->
                </div><!-- /.panel -->
                <!--/ End input fields - basic form-->
            </div><!-- /.col-md-6 -->
        </div>
    </div>
</section>
<script src="~/Scripts/bootstrap.min.js"></script>
<script>
    $('#submit').click(function () {
        $('#basic-validate').submit();
    });
</script>
<script>
    $("#email").on('keyup input propertychange paste change', function () {
        $.getJSON('@Url.Action("CheckEmail", "NhaCungCap")', { email: $(this).val() }, function (data) {
            if (data.isDuplicate) {
                $(".messageErrorinputEmail").text("Email đã tồn tại!");
                $(".notifyinputEmail").slideDown(250).removeClass("hidden");
                var str = document.getElementById("email").value;
                $('#checkemail').val(str);
                document.getElementById("submit").disabled = true;
            }
            else {
                $(".notifyinputEmail").addClass("hidden");
                document.getElementById("submit").disabled = false;
            }
        });
    });
    function checkNumber(e, element) {
        var charcode = (e.which) ? e.which : e.keyCode;
        if (charcode > 31 && (charcode < 48 || charcode > 57)) {
            return false;
        }
        return true;
    };
</script>